(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1047:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5);function a(e,t,n,a){return r.a({actions:t,selectors:n,containers:e},a)}},1048:function(e,t,n){"use strict";function r(e){return"number"==typeof e}function a(e){return"string"==typeof e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},1062:function(e,t,n){"use strict";n.r(t);var r={};n.d(r,"loadFields",function(){return l}),n.d(r,"loadFieldsSuccess",function(){return u}),n.d(r,"loadFieldsFail",function(){return c}),n.d(r,"changeFieldValue",function(){return d});var a={};n.d(a,"selectFields",function(){return A}),n.d(a,"selectCommunication",function(){return L}),n.d(a,"selectValues",function(){return I}),n.d(a,"selectFlatValues",function(){return O}),n.d(a,"selectLocationValues",function(){return _});var o,i=n(1047),s=n(102),l=(o=Object(s.c)("DYNAMIC_FIELDS:LOAD_FIELDS","DYNAMIC_FIELDS:LOAD_FIELDS_SUCCESS","DYNAMIC_FIELDS:LOAD_FIELDS_FAIL")).execute,u=o.completed,c=o.failed;function d(e,t){return{type:"DYNAMIC_FIELDS:CHANGE_FIELD_VALUE",payload:{name:e,value:t}}}var p=n(5),h=n(0),f=n(1057),m=n.n(f),v=n(26),g=n(35),y=n(28),b=n.n(y),E=n(15),C={root:Object(E.a)({display:"flex",flexWrap:"wrap",width:"100%"}),label:Object(E.a)({width:"10rem",fontWeight:700}),input:Object(E.a)({width:0,flexGrow:1})};var F=b()(C)(function(e){var t=e.label,n=e.children,r=e.classes;return h.createElement("label",{className:r.root},h.createElement(g.k,{variant:"subheading",className:r.label},t),h.createElement("div",{className:r.input},n))});function D(e){return e.label&&"string"==typeof e.label}var S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:"",isEdited:!1},n}return p.d(t,e),t.prototype.componentDidMount=function(){this.validateAndChange({label:""})},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.label,r=this.state,a=r.error,o=r.isEdited,i=new google.maps.LatLng(7.75,80.76667);return h.createElement(F,{label:n},h.createElement(m.a,{placeholder:t,location:i,queryDelay:1e3,radius:"330",inputClassName:"form-control",onSuggestSelect:this.onSelect}),o&&!!a&&h.createElement(g.g,{error:!0},a))},t.prototype.onSelect=function(e){this.validateAndChange(e),this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.validateAndChange=function(e){var t=this.props,n=t.onChange,r=!t.required||e.label&&e.placeId?"":"Field is required";n&&n(e,r),this.setState(p.a({},this.state,{error:r}))},p.c([v.bind],t.prototype,"onSelect",null),p.c([v.bind],t.prototype,"validateAndChange",null),t}(h.Component);function A(e){return e.data.fields}function L(e){return e.communication}function I(e){return e.data.values}function O(e){var t=I(e);return Object.keys(t).reduce(function(e,n){var r,a,o=t[n];return D(o)?p.a({},e,((r={})[n]=o.label,r)):p.a({},e,((a={})[n]=o,a))},{})}function _(e){var t=I(e);return Object.keys(t).reduce(function(e,n){var r,a=t[n];return D(a)?p.a({},e,((r={})[n]=a.location?a.location:{lat:0,lng:0},r)):e},{})}var q=n(87),w=n(37),N=n(138),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:"",isEdited:!1},t}return p.d(t,e),t.prototype.componentDidMount=function(){this.changeValue("")},t.prototype.render=function(){var e=this.props,t=e.name,n=e.label,r=e.placeholder,a=this.state,o=a.error,i=a.isEdited;return h.createElement(F,{label:n},h.createElement(N.d,{type:"text",name:t,placeholder:r,onChange:this.onChange,error:i&&!!o,helperText:i&&o}))},t.prototype.onChange=function(e){var t=e.nativeEvent.target.value;this.changeValue(t),this.state.isEdited||this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.changeValue=function(e){var t=this.props,n=t.required,r=t.onChange,a=n&&!e.length?"Field is required":"";this.setState(p.a({},this.state,{error:a})),r&&r(e,a)},p.c([v.bind],t.prototype,"onChange",null),p.c([v.bind],t.prototype,"changeValue",null),t}(h.Component),M=function(e){function t(t){var n=e.call(this,t)||this;return n.errors={required:"Field is required",tooLow:"Number value is too low",tooBig:"Number value is too big",invalid:"Number value is incorrect"},n.state={error:"",isEdited:!1},n}return p.d(t,e),t.prototype.componentDidMount=function(){var e=this.validate("");this.change("",e)},t.prototype.render=function(){var e=this.props,t=e.name,n=e.isFloat,r=e.label,a=e.pattern,o=e.placeholder,i=e.minimum,s=e.maximum,l=this.state,u=l.error,c=l.isEdited;return h.createElement(F,{label:r},h.createElement(N.d,{name:t,type:"number",placeholder:o,onChange:this.onChange,inputProps:{pattern:a,step:n?.01:void 0,min:i,max:s},error:c&&!!u,helperText:c&&u}))},t.prototype.onChange=function(e){var t=e.nativeEvent.target.value,n=this.validate(t);this.change(t,n),this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.validate=function(e){var t=this,n=this.props,r=n.isFloat,a=n.minimum,o=n.maximum,i=n.required,s=r?parseFloat(e):parseInt(e,10),l=i&&!e?t.errors.required:isNaN(s)?t.errors.invalid:a&&s<a?t.errors.tooLow:o&&s>o?t.errors.tooBig:"";return this.setState(p.a({},this.state,{error:l})),l},t.prototype.change=function(e,t){var n=this.props.onChange;n&&n(e.toString(),t)},p.c([v.bind],t.prototype,"onChange",null),p.c([v.bind],t.prototype,"validate",null),p.c([v.bind],t.prototype,"change",null),t}(h.Component),x=n(471),V=n.n(x),Y=n(467),k=n.n(Y),T=n(281),R=n.n(T),U=n(515),P=n.n(U),H=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:"",isEdited:!1,value:""},n}return p.d(t,e),t.prototype.componentDidMount=function(){this.props.required&&this.setState({error:"Field is required"})},t.prototype.render=function(){var e=this.props,t=e.name,n=void 0===t?"":t,r=e.label,a=e.enum,o=this.state,i=o.error,s=o.isEdited,l=o.value;return h.createElement(F,{label:r},h.createElement(k.a,{row:!0,name:n,value:l,onChange:this.onChange},a?a.map(function(e,t){return h.createElement(P.a,{key:t,value:e,control:h.createElement(V.a,null),label:e})}):"No choices"),s&&!!i&&h.createElement(R.a,{error:!0},i))},t.prototype.onChange=function(e){var t=this.props,n=t.required,r=t.onChange,a=e.target.value,o=n&&!a.length?"Field is required":"";this.setState({isEdited:!0,error:o,value:a}),r&&r(a,o)},p.c([v.bind],t.prototype,"onChange",null),t}(h.Component),B=n(1048),G=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:"",selected:null,isEdited:!1},n}return p.d(t,e),t.prototype.componentDidMount=function(){this.validateAndChangeValue(null)},t.prototype.render=function(){var e=this.props,t=e.name,n=e.label,r=e.enum,a=void 0===r?[]:r,o=this.state,i=o.selected,s=o.isEdited,l=this.props.error||this.state.error,u=a.map(function(e){return{label:e,value:e}});return h.createElement(F,{label:n},h.createElement(N.b,{name:t,options:u,onChange:this.onSelect,value:i&&i.value||"",error:s&&!!l,helperText:s&&l}))},t.prototype.onSelect=function(e){this.validateAndChangeValue(Array.isArray(e)?e[0]:e),this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.validateAndChangeValue=function(e){var t=this.props,n=t.required,r=t.onChange,a=!e&&n?"Field is required":"";r&&r(e&&(Object(B.a)(e.value)||Object(B.b)(e.value))?e.value:"",a);this.setState(p.a({},this.state,{selected:e,error:a}))},p.c([v.bind],t.prototype,"onSelect",null),t}(h.PureComponent),J=function(e){function t(t){var n=e.call(this,t)||this;return n.standardHTMLpattern="^([0-9]{4})-([0-9]{2})-([0-9]{2})$",n.errors={invalid:"Incorrect Date format",required:"Field is required"},n.state={error:"",isEdited:!1},n}return p.d(t,e),t.prototype.componentDidMount=function(){this.validateAndChange("")},t.prototype.render=function(){var e=this.props,t=e.name,n=e.label,r=e.pattern,a=e.placeholder,o=this.state,i=o.error,s=o.isEdited;return h.createElement(F,{label:n},h.createElement(N.d,{type:"date",name:t,placeholder:a,onChange:this.onChange,inputProps:{pattern:r},error:s&&!!i,helperText:s&&i}))},t.prototype.onChange=function(e){var t=e.nativeEvent.target.value;this.validateAndChange(t),this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.validateAndChange=function(e){var t=this,n=this.props,r=n.pattern,a=n.required,o=n.onChange,i=new RegExp(this.standardHTMLpattern).test(e)?e.split("-").reverse().join("-"):e,s=r&&!new RegExp(r).test(i)?t.errors.invalid:a&&!i.length?t.errors.required:"";this.setState(p.a({},this.state,{error:s})),o&&o(i,s)},p.c([v.bind],t.prototype,"onChange",null),p.c([v.bind],t.prototype,"validateAndChange",null),t}(h.PureComponent),W=function(e){function t(t){var n=e.call(this,t)||this;return n.errors={invalid:"Incorrect Time format, expected hh:mm"},n.state={error:"",isEdited:!1},n}return p.d(t,e),t.prototype.componentDidMount=function(){this.validateAndChange("")},t.prototype.render=function(){var e=this.props,t=e.name,n=e.label,r=e.placeholder,a=this.state,o=a.error,i=a.isEdited;return h.createElement(F,{label:n},h.createElement(N.d,{type:"time",name:t,placeholder:r,onChange:this.onChange,error:i&&!!o,helperText:i&&o}))},t.prototype.onChange=function(e){var t=e.nativeEvent.target.value;this.validateAndChange(t),this.setState(function(e){return p.a({},e,{isEdited:!0})})},t.prototype.validateAndChange=function(e){var t=this,n=this.props,r=n.required,a=n.onChange,o=n.pattern,i=r&&!e.length?"Field is required":o&&!new RegExp(o).test(e)?t.errors.invalid:"";this.setState(p.a({},this.state,{error:i})),a&&a(e,i)},p.c([v.bind],t.prototype,"onChange",null),p.c([v.bind],t.prototype,"validateAndChange",null),t}(h.Component),$={communication:{fetching:{isRequesting:!1,error:""}},data:{fields:{},values:{}}};var z=Object(w.combineReducers)({communication:Object(w.combineReducers)({fetching:Object(s.d)("DYNAMIC_FIELDS:LOAD_FIELDS","DYNAMIC_FIELDS:LOAD_FIELDS_SUCCESS","DYNAMIC_FIELDS:LOAD_FIELDS_FAIL",$.communication.fetching)}),data:function(e,t){var n;switch(void 0===e&&(e=$.data),t.type){case"DYNAMIC_FIELDS:LOAD_FIELDS":return p.a({},e,{values:{},fields:p.a({},e.fields,{uid:t.payload})});case"DYNAMIC_FIELDS:LOAD_FIELDS_SUCCESS":return p.a({},e,{fields:t.payload});case"DYNAMIC_FIELDS:CHANGE_FIELD_VALUE":var r=t.payload;return p.a({},e,{values:p.a({},e.values,(n={},n[r.name]=r.value,n))});default:return e}}}),K=b()(function(e){return{field:Object(E.a)({marginTop:3*e.spacing.unit})}});var Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={values:{},errors:[]},t.components={text:j,integer:M,number:function(e){return h.createElement(M,p.a({},e,{isFloat:!0}))},date:J,time:W,radio:H,dropdown:G,location:S},t}return p.d(t,e),t.prototype.componentDidMount=function(){this.props.category&&this.changeCategory(this.props.category)},t.prototype.componentDidUpdate=function(e){this.props.category&&e.category!==this.props.category&&this.changeCategory(this.props.category)},t.prototype.render=function(){return h.createElement("div",null,h.createElement(g.k,{variant:"title"},"Dynamic Fields"),this.renderFields())},t.prototype.changeCategory=function(e){this.setState({values:{},errors:[]}),this.props.loadFields(e)},t.prototype.onFieldChange=function(e){var t=this;return function(n,r){var a=t.props,o=a.changeFieldValue,i=a.onChange;i&&i(e,n,r),o(e,n)}},t.prototype.renderFields=function(){var e=this,t=this.props,n=t.fields,r=t.classes;if(n&&n.schema&&n.schema.properties){var a=n.schema.required,o=n.schema.properties,i=Object.keys(o).filter(function(t){var n=o[t].component;return e.components.hasOwnProperty(n)}).sort(function(e,t){var n=o[e],r=o[t];return n.order-r.order}).map(function(t){var n=o[t].component,i=e.components[n],s=Boolean(a.find(function(e){return e===t})),l=o[t],u=p.a({},l,{label:s?l.label+"*":l.label}),c=e.state.errors.indexOf(t)>-1?"Required Field":"";return h.createElement("div",{className:r.field,key:u.order},h.createElement(i,p.a({},u,{required:s,error:c,name:t,onChange:e.onFieldChange(t)})))});return h.createElement("div",null,i)}return[]},p.c([v.bind],t.prototype,"changeCategory",null),p.c([v.bind],t.prototype,"onFieldChange",null),t}(h.Component),X=Object(q.b)(function(e){var t=e.dynamicFields;return{fields:a.selectFields(t),communications:a.selectCommunication(t)}},function(e){return Object(w.bindActionCreators)({loadFields:r.loadFields,changeFieldValue:r.changeFieldValue},e)})(K(Q)),Z=n(75),ee=n(255);function te(e,t){var n,r,a,o,i=e.api;return p.e(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),n=t.payload,[4,Object(Z.a)(i.loadFields,n)];case 1:return r=e.sent(),[4,Object(Z.b)(u(r))];case 2:return e.sent(),[3,5];case 3:return a=e.sent(),o=Object(ee.a)(a),[4,Object(Z.b)(c(o))];case 4:return e.sent(),[3,5];case 5:return[2]}})}var ne=function(e){return function(){return p.e(this,function(t){switch(t.label){case 0:return[4,[Object(Z.c)("DYNAMIC_FIELDS:LOAD_FIELDS",te,e)]];case 1:return t.sent(),[2]}})}};n.d(t,"entry",function(){return ae});var re={DynamicFields:X},ae=Object(i.a)(re,r,a,{reducers:{dynamicFields:z},sagas:[ne]})}}]);